{"ast":null,"code":"var _jsxFileName = \"/Users/yangxc/Desktop/react2-alpha-Xuechun19/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: [],\n      filteredCourses: [],\n      recommendedCourses: [],\n      completedCourses: {},\n      ratings: [],\n      subjects: [],\n      cartCourses: []\n    };\n    this.updateActiveKey = this.updateActiveKey.bind(this);\n  }\n\n  updateActiveKey(key) {\n    this.setState({\n      activeKey: key\n    });\n  } // componentDidMount() {\n  //  this.loadInitialState()\n  // }\n  // async loadInitialState(){\n  //   let courseURL = \"http://mysqlcs639.cs.wisc.edu:53706/api/react/classes\";\n  //   let courseData = await (await fetch(courseURL)).json()\n  //   this.setState({allCourses: courseData, filteredCourses: courseData, subjects: this.getSubjects(courseData)});\n  // }\n\n\n  componentDidMount() {\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/classes').then(res => res.json()).then(data => this.setState({\n      allCourses: data,\n      filteredCourses: data,\n      cartCourses: [],\n      subjects: this.getSubjects(data)\n    }));\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/students/5022025924/classes/completed').then(res => res.json()).then(completedData => {\n      this.setState({\n        completedCourses: completedData\n      });\n    });\n  }\n\n  setRatings() {\n    let ratings = [];\n\n    for (let i = 0; i < this.state.completedCourses.data.length; i++) {\n      ratings.push(0);\n    }\n\n    this.setState({\n      ratings: ratings\n    });\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for (let i = 0; i < data.length; i++) {\n      if (subjects.indexOf(data[i].subject) === -1) subjects.push(data[i].subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({\n      filteredCourses: courses\n    });\n  }\n\n  updateRatings(course, rating) {\n    if (this.state.ratings.length === 0) {\n      this.setRatings();\n    }\n\n    let update = this.state.ratings;\n\n    for (let i = 0; i < update.length; i++) {\n      if (this.state.completedCourses.data[i] === course) {\n        update[i] = rating;\n        this.setState({\n          ratings: update\n        });\n        this.updateRecommendedCourses();\n        return;\n      }\n    }\n\n    this.updateRecommendedCourses();\n  }\n\n  updateRecommendedCourses() {\n    let recommend = [];\n\n    for (let score = 5; score > 0; score--) {\n      for (let i = 0; i < this.state.allCourses.length; i++) {\n        let course = this.state.allCourses[i];\n        var alreadyTook = false;\n\n        for (let j = 0; j < this.state.completedCourses.data.length; j++) {\n          if (course.number === this.state.completedCourses.data[j]) {\n            alreadyTook = true;\n          }\n        }\n\n        if (alreadyTook) {\n          continue;\n        }\n\n        let completedSubjects = this.getCompletedSubjects(this.state.completedCourses.data);\n\n        for (let j = 0; j < completedSubjects.length; j++) {\n          if (course.subject === completedSubjects[j] && this.state.ratings[j] === score) {\n            recommend.push(course);\n          }\n        }\n      }\n    }\n\n    let result = Array.from(new Set(recommend));\n    this.setState({\n      recommendedCourses: result\n    });\n  }\n\n  getCompletedSubjects(completedCourses) {\n    let completed_Subjects = []; // console.log(Object.values(completedCourses))\n\n    for (let i in completedCourses) {\n      let completedCourse = completedCourses[i];\n\n      for (let j in this.state.allCourses) {\n        let course = this.state.allCourses[j];\n\n        if (completedCourse === course.number) {\n          completed_Subjects.push(course.subject);\n        }\n      }\n    }\n\n    return completed_Subjects;\n  }\n\n  addCartCourse(data) {\n    let newCartCourses = JSON.parse(JSON.stringify(this.state.cartCourses)); // I think this is a hack to deepcopy\n\n    let courseIndex = this.state.allCourses.findIndex(x => {\n      return x.number === data.course;\n    });\n\n    if (courseIndex === -1) {\n      return;\n    } // console.log(\"data: \", data)\n    // console.log(\"data 111222: \", data.course);\n\n\n    if ('subsection' in data) {\n      if (data.course in this.state.cartCourses) {\n        if (data.section in this.state.cartCourses[data.course]) {\n          newCartCourses[data.course][data.section].push(data.subsection);\n        } else {\n          newCartCourses[data.course][data.section] = [];\n          newCartCourses[data.course][data.section].push(data.subsection);\n        }\n      } else {\n        newCartCourses[data.course] = {};\n        newCartCourses[data.course][data.section] = [];\n        newCartCourses[data.course][data.section].push(data.subsection);\n      }\n    } else if ('section' in data) {\n      if (data.course in this.state.cartCourses) {\n        newCartCourses[data.course][data.section] = [];\n\n        for (let i = 0; i < this.state.allCourses[courseIndex].sections[data.section].subsections.length; i++) {\n          newCartCourses[data.course][data.section].push(this.state.allCourses[courseIndex].sections[data.section].subsections[i]);\n        }\n      } else {\n        newCartCourses[data.course] = {};\n        newCartCourses[data.course][data.section] = [];\n\n        for (let i = 0; i < this.state.allCourses[courseIndex].sections[data.section].subsections.length; i++) {\n          newCartCourses[data.course][data.section].push(this.state.allCourses[courseIndex].sections[data.section].subsections[i]);\n        }\n      }\n    } else {\n      newCartCourses[data.course] = {};\n\n      for (let i = 0; i < this.state.allCourses[courseIndex].sections.length; i++) {\n        newCartCourses[data.course][i] = [];\n\n        for (let c = 0; c < this.state.allCourses[courseIndex].sections[i].subsections.length; c++) {\n          newCartCourses[data.course][i].push(this.state.allCourses[courseIndex].sections[i].subsections[c]);\n        }\n      }\n    }\n\n    let course1 = this.state.allCourses[courseIndex]; // console.log(\"requisite: \", course1.requisites);\n\n    let comListData = this.state.completedCourses.data; // console.log(\"completed: \", comListData);\n    // console.log(\"cs537\", course1);\n\n    if (course1.number == \"COMP SCI 537\") {\n      for (let xy = 0; xy < course1.requisites.length; xy++) {\n        alert(\"Requisite: \" + course1.requisites[xy]);\n      }\n    }\n\n    if (course1.requisites.length === 0) {\n      alert(\"Add successfully!\");\n    } else if (course1.requisites.length === 1) {\n      for (let i = 0; i < comListData.length; i++) {\n        // console.log(\"1111\");\n        // var compare = course1.requisites.localCompare(comListData[i]);\n        if (course1.requisites == comListData[i]) {\n          alert(\"Add successfully!\");\n        }\n      }\n    } else {\n      let req = course1.requisites;\n      let requList = [];\n\n      for (let i = 0; i < req.length; i++) {\n        for (let j = 0; j < comListData.length; j++) {\n          if (req[i] == comListData[j]) {\n            continue;\n          } else {\n            requList.push(req[i]);\n          }\n        }\n      }\n\n      console.log(\"eliminate: \", req);\n\n      if (requList.length === 0) {\n        for (let u = 0; u < req.length; u++) {\n          alert(\"Requisite: \" + req[u]);\n        }\n      } else {\n        for (let k = 0; k < requList.length; k++) {\n          alert(\"Requisite: \" + requList[k]); // console.log(requList[k]);\n\n          break;\n        }\n      }\n    }\n\n    this.setState({\n      cartCourses: newCartCourses\n    });\n  }\n\n  removeCartCourse(data) {\n    let newCartCourses = JSON.parse(JSON.stringify(this.state.cartCourses));\n\n    if ('subsection' in data) {\n      newCartCourses[data.course][data.section].splice(newCartCourses[data.course][data.section].indexOf(data.subsection), 1);\n\n      if (newCartCourses[data.course][data.section].length === 0) {\n        delete newCartCourses[data.course][data.section];\n      }\n\n      if (Object.keys(newCartCourses[data.course]).length === 0) {\n        delete newCartCourses[data.course];\n      }\n    } else if ('section' in data) {\n      delete newCartCourses[data.course][data.section];\n\n      if (Object.keys(newCartCourses[data.course]).length === 0) {\n        delete newCartCourses[data.course];\n      }\n    } else {\n      delete newCartCourses[data.course];\n    }\n\n    this.setState({\n      cartCourses: newCartCourses\n    });\n  }\n\n  getCartData() {\n    let cartData = [];\n\n    for (const courseKey of Object.keys(this.state.cartCourses)) {\n      let course = this.state.allCourses.find(x => {\n        return x.number === courseKey;\n      });\n      cartData.push(course);\n    }\n\n    return cartData;\n  }\n\n  getSubjectOptions() {\n    let subjectOptions = [];\n\n    for (const subject of this.state.subjects) {\n      subjectOptions.push(React.createElement(\"option\", {\n        key: subject,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, subject));\n    }\n\n    return subjectOptions;\n  }\n\n  getAllInterestAreas() {\n    let interest_areas = []; //look at subjects\n\n    let subjects = this.getSubjectOptions();\n\n    for (let i = 0; i < subjects.length; i++) {\n      interest_areas.push(subjects[i].key);\n    } //look at keywords\n\n\n    for (let i = 0; i < this.state.allCourses.length; i++) {\n      let course = this.state.allCourses[i];\n\n      for (let j = 0; j < course.keywords.length; j++) {\n        interest_areas.push(course.keywords[j]);\n      }\n    }\n\n    interest_areas = [...new Set(interest_areas)];\n    return interest_areas;\n  }\n\n  render() {\n    // console.log(\"props\", this.props);\n    // const course = this.state.course;\n    return React.createElement(React.Fragment, null, React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossOrigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }), React.createElement(Tabs, {\n      defaultActiveKey: \"search\",\n      style: {\n        position: 'fixed',\n        zIndex: 1,\n        width: '100%',\n        backgroundColor: 'white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"search\",\n      title: \"Search\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(Sidebar, {\n      setCourses: courses => this.setCourses(courses),\n      courses: this.state.allCourses,\n      subjects: this.state.subjects,\n      interest_areas: this.getAllInterestAreas(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, React.createElement(CourseArea, {\n      data: this.state.filteredCourses,\n      addCartCourse: data => this.addCartCourse(data),\n      removeCartCourse: data => this.removeCartCourse(data),\n      cartCourses: this.state.cartCourses,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }))), React.createElement(Tab, {\n      eventKey: \"cart\",\n      title: \"Cart\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginLeft: '20vw'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(CourseArea, {\n      data: this.getCartData(),\n      addCartCourse: data => this.addCartCourse(data),\n      removeCartCourse: data => this.removeCartCourse(data),\n      cartCourses: this.state.cartCourses,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }))), React.createElement(Tab, {\n      eventKey: \"completed\",\n      title: \"Completed Courses\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(CourseArea, {\n      data: this.state.completedCourses,\n      allData: this.state.allCourses,\n      updateRatings: this.updateRatings.bind(this),\n      mode: \"completed\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }))), React.createElement(Tab, {\n      eventKey: \"recommend\",\n      title: \"Recommended Courses\",\n      style: {\n        paddingTop: '5vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, React.createElement(CourseArea, {\n      allCourses: this.state.allCourses,\n      data: this.state.recommendedCourses,\n      mode: \"recommend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yangxc/Desktop/react2-alpha-Xuechun19/src/App.js"],"names":["React","Sidebar","CourseArea","Tabs","Tab","App","Component","constructor","props","state","allCourses","filteredCourses","recommendedCourses","completedCourses","ratings","subjects","cartCourses","updateActiveKey","bind","key","setState","activeKey","componentDidMount","fetch","then","res","json","data","getSubjects","completedData","setRatings","i","length","push","indexOf","subject","setCourses","courses","updateRatings","course","rating","update","updateRecommendedCourses","recommend","score","alreadyTook","j","number","completedSubjects","getCompletedSubjects","result","Array","from","Set","completed_Subjects","completedCourse","addCartCourse","newCartCourses","JSON","parse","stringify","courseIndex","findIndex","x","section","subsection","sections","subsections","c","course1","comListData","xy","requisites","alert","req","requList","console","log","u","k","removeCartCourse","splice","Object","keys","getCartData","cartData","courseKey","find","getSubjectOptions","subjectOptions","getAllInterestAreas","interest_areas","keywords","render","position","zIndex","width","backgroundColor","paddingTop","marginLeft"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;;AAGA,MAAMC,GAAN,SAAkBL,KAAK,CAACM,SAAxB,CAAkC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE,EADD;AAEXC,MAAAA,eAAe,EAAE,EAFN;AAGXC,MAAAA,kBAAkB,EAAE,EAHT;AAIXC,MAAAA,gBAAgB,EAAE,EAJP;AAKXC,MAAAA,OAAO,EAAE,EALE;AAMXC,MAAAA,QAAQ,EAAE,EANC;AAOXC,MAAAA,WAAW,EAAE;AAPF,KAAb;AASA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;AACD;;AAEDD,EAAAA,eAAe,CAACE,GAAD,EAAM;AACnB,SAAKC,QAAL,CAAc;AAAEC,MAAAA,SAAS,EAAEF;AAAb,KAAd;AACD,GAjB+B,CAkBhC;AACA;AACA;AAEA;AACA;AACA;AAGA;AAEA;;;AAEAG,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,KAAK,CAAC,uDAAD,CAAL,CAA+DC,IAA/D,CACEC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADT,EAEEF,IAFF,CAEOG,IAAI,IAAI,KAAKP,QAAL,CAAc;AAAEV,MAAAA,UAAU,EAAEiB,IAAd;AAAoBhB,MAAAA,eAAe,EAAEgB,IAArC;AAA2CX,MAAAA,WAAW,EAAE,EAAxD;AAA4DD,MAAAA,QAAQ,EAAE,KAAKa,WAAL,CAAiBD,IAAjB;AAAtE,KAAd,CAFf;AAGAJ,IAAAA,KAAK,CAAC,qFAAD,CAAL,CAA6FC,IAA7F,CACEC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADT,EAEEF,IAFF,CAEOK,aAAa,IAAI;AAAE,WAAKT,QAAL,CAAc;AAAEP,QAAAA,gBAAgB,EAAEgB;AAApB,OAAd;AAAoD,KAF9E;AAGD;;AAEDC,EAAAA,UAAU,GAAG;AACX,QAAIhB,OAAO,GAAG,EAAd;;AACA,SAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,KAAL,CAAWI,gBAAX,CAA4Bc,IAA5B,CAAiCK,MAArD,EAA6DD,CAAC,EAA9D,EAAkE;AAChEjB,MAAAA,OAAO,CAACmB,IAAR,CAAa,CAAb;AACD;;AACD,SAAKb,QAAL,CAAc;AAAEN,MAAAA,OAAO,EAAEA;AAAX,KAAd;AACD;;AAGDc,EAAAA,WAAW,CAACD,IAAD,EAAO;AAChB,QAAIZ,QAAQ,GAAG,EAAf;AACAA,IAAAA,QAAQ,CAACkB,IAAT,CAAc,KAAd;;AAEA,SAAI,IAAIF,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,IAAI,CAACK,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACnC,UAAGhB,QAAQ,CAACmB,OAAT,CAAiBP,IAAI,CAACI,CAAD,CAAJ,CAAQI,OAAzB,MAAsC,CAAC,CAA1C,EACEpB,QAAQ,CAACkB,IAAT,CAAcN,IAAI,CAACI,CAAD,CAAJ,CAAQI,OAAtB;AACH;;AAED,WAAOpB,QAAP;AACD;;AAEDqB,EAAAA,UAAU,CAACC,OAAD,EAAU;AAClB,SAAKjB,QAAL,CAAc;AAACT,MAAAA,eAAe,EAAE0B;AAAlB,KAAd;AACD;;AACDC,EAAAA,aAAa,CAACC,MAAD,EAASC,MAAT,EAAiB;AAC5B,QAAI,KAAK/B,KAAL,CAAWK,OAAX,CAAmBkB,MAAnB,KAA8B,CAAlC,EAAqC;AACnC,WAAKF,UAAL;AACD;;AACD,QAAIW,MAAM,GAAG,KAAKhC,KAAL,CAAWK,OAAxB;;AACA,SAAK,IAAIiB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,MAAM,CAACT,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,UAAI,KAAKtB,KAAL,CAAWI,gBAAX,CAA4Bc,IAA5B,CAAiCI,CAAjC,MAAwCQ,MAA5C,EAAoD;AAClDE,QAAAA,MAAM,CAACV,CAAD,CAAN,GAAYS,MAAZ;AACA,aAAKpB,QAAL,CAAc;AAAEN,UAAAA,OAAO,EAAE2B;AAAX,SAAd;AACA,aAAKC,wBAAL;AACA;AACD;AACF;;AACD,SAAKA,wBAAL;AACD;;AACDA,EAAAA,wBAAwB,GAAG;AACzB,QAAIC,SAAS,GAAG,EAAhB;;AACA,SAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,CAA5B,EAA+BA,KAAK,EAApC,EAAwC;AACtC,WAAK,IAAIb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,KAAL,CAAWC,UAAX,CAAsBsB,MAA1C,EAAkDD,CAAC,EAAnD,EAAuD;AACrD,YAAIQ,MAAM,GAAG,KAAK9B,KAAL,CAAWC,UAAX,CAAsBqB,CAAtB,CAAb;AACA,YAAIc,WAAW,GAAG,KAAlB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKrC,KAAL,CAAWI,gBAAX,CAA4Bc,IAA5B,CAAiCK,MAArD,EAA6Dc,CAAC,EAA9D,EAAkE;AAChE,cAAIP,MAAM,CAACQ,MAAP,KAAkB,KAAKtC,KAAL,CAAWI,gBAAX,CAA4Bc,IAA5B,CAAiCmB,CAAjC,CAAtB,EAA2D;AACzDD,YAAAA,WAAW,GAAG,IAAd;AACD;AACF;;AACD,YAAIA,WAAJ,EAAiB;AACf;AACD;;AAED,YAAIG,iBAAiB,GAAG,KAAKC,oBAAL,CAA0B,KAAKxC,KAAL,CAAWI,gBAAX,CAA4Bc,IAAtD,CAAxB;;AACA,aAAK,IAAImB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,iBAAiB,CAAChB,MAAtC,EAA8Cc,CAAC,EAA/C,EAAmD;AACjD,cAAIP,MAAM,CAACJ,OAAP,KAAmBa,iBAAiB,CAACF,CAAD,CAApC,IAA2C,KAAKrC,KAAL,CAAWK,OAAX,CAAmBgC,CAAnB,MAA0BF,KAAzE,EAAgF;AAC9ED,YAAAA,SAAS,CAACV,IAAV,CAAeM,MAAf;AACD;AACF;AACF;AACF;;AACD,QAAIW,MAAM,GAAGC,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQV,SAAR,CAAX,CAAb;AACA,SAAKvB,QAAL,CAAc;AAAER,MAAAA,kBAAkB,EAAEsC;AAAtB,KAAd;AACD;;AAEDD,EAAAA,oBAAoB,CAACpC,gBAAD,EAAmB;AACrC,QAAIyC,kBAAkB,GAAG,EAAzB,CADqC,CAErC;;AACA,SAAK,IAAIvB,CAAT,IAAelB,gBAAf,EAAkC;AAChC,UAAI0C,eAAe,GAAG1C,gBAAgB,CAACkB,CAAD,CAAtC;;AACA,WAAK,IAAIe,CAAT,IAAc,KAAKrC,KAAL,CAAWC,UAAzB,EAAqC;AACnC,YAAI6B,MAAM,GAAG,KAAK9B,KAAL,CAAWC,UAAX,CAAsBoC,CAAtB,CAAb;;AACA,YAAIS,eAAe,KAAKhB,MAAM,CAACQ,MAA/B,EAAuC;AACrCO,UAAAA,kBAAkB,CAACrB,IAAnB,CAAwBM,MAAM,CAACJ,OAA/B;AACD;AACF;AACF;;AACD,WAAOmB,kBAAP;AACD;;AAIDE,EAAAA,aAAa,CAAC7B,IAAD,EAAO;AAClB,QAAI8B,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKnD,KAAL,CAAWO,WAA1B,CAAX,CAArB,CADkB,CACqD;;AACvE,QAAI6C,WAAW,GAAG,KAAKpD,KAAL,CAAWC,UAAX,CAAsBoD,SAAtB,CAAiCC,CAAD,IAAO;AAAC,aAAOA,CAAC,CAAChB,MAAF,KAAWpB,IAAI,CAACY,MAAvB;AAA8B,KAAtE,CAAlB;;AACA,QAAIsB,WAAW,KAAK,CAAC,CAArB,EACA;AACE;AACD,KANiB,CAOlB;AACA;;;AAEA,QAAG,gBAAgBlC,IAAnB,EAAyB;AACvB,UAAGA,IAAI,CAACY,MAAL,IAAe,KAAK9B,KAAL,CAAWO,WAA7B,EAA0C;AACxC,YAAGW,IAAI,CAACqC,OAAL,IAAgB,KAAKvD,KAAL,CAAWO,WAAX,CAAuBW,IAAI,CAACY,MAA5B,CAAnB,EAAwD;AACtDkB,UAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,EAA0C/B,IAA1C,CAA+CN,IAAI,CAACsC,UAApD;AACD,SAFD,MAGK;AACHR,UAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,IAA4C,EAA5C;AACAP,UAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,EAA0C/B,IAA1C,CAA+CN,IAAI,CAACsC,UAApD;AACD;AACF,OARD,MASK;AACHR,QAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,GAA8B,EAA9B;AACAkB,QAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,IAA4C,EAA5C;AACAP,QAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,EAA0C/B,IAA1C,CAA+CN,IAAI,CAACsC,UAApD;AACD;AACF,KAfD,MAgBK,IAAG,aAAatC,IAAhB,EAAsB;AACzB,UAAGA,IAAI,CAACY,MAAL,IAAe,KAAK9B,KAAL,CAAWO,WAA7B,EAA0C;AACxCyC,QAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,IAA4C,EAA5C;;AAEA,aAAI,IAAIjC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKtB,KAAL,CAAWC,UAAX,CAAsBmD,WAAtB,EAAmCK,QAAnC,CAA4CvC,IAAI,CAACqC,OAAjD,EAA0DG,WAA1D,CAAsEnC,MAAzF,EAAiGD,CAAC,EAAlG,EAAsG;AACpG0B,UAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,EAA0C/B,IAA1C,CAA+C,KAAKxB,KAAL,CAAWC,UAAX,CAAsBmD,WAAtB,EAAmCK,QAAnC,CAA4CvC,IAAI,CAACqC,OAAjD,EAA0DG,WAA1D,CAAsEpC,CAAtE,CAA/C;AACD;AAGF,OARD,MASK;AACH0B,QAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,GAA8B,EAA9B;AACAkB,QAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,IAA4C,EAA5C;;AACA,aAAI,IAAIjC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKtB,KAAL,CAAWC,UAAX,CAAsBmD,WAAtB,EAAmCK,QAAnC,CAA4CvC,IAAI,CAACqC,OAAjD,EAA0DG,WAA1D,CAAsEnC,MAAzF,EAAiGD,CAAC,EAAlG,EAAsG;AACpG0B,UAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,EAA0C/B,IAA1C,CAA+C,KAAKxB,KAAL,CAAWC,UAAX,CAAsBmD,WAAtB,EAAmCK,QAAnC,CAA4CvC,IAAI,CAACqC,OAAjD,EAA0DG,WAA1D,CAAsEpC,CAAtE,CAA/C;AACD;AACF;AACF,KAjBI,MAkBA;AACH0B,MAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,GAA8B,EAA9B;;AAGA,WAAK,IAAIR,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,KAAL,CAAWC,UAAX,CAAsBmD,WAAtB,EAAmCK,QAAnC,CAA4ClC,MAAhE,EAAwED,CAAC,EAAzE,EAA4E;AAC1E0B,QAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BR,CAA5B,IAAiC,EAAjC;;AAEC,aAAI,IAAIqC,CAAC,GAAE,CAAX,EAAcA,CAAC,GAAG,KAAK3D,KAAL,CAAWC,UAAX,CAAsBmD,WAAtB,EAAmCK,QAAnC,CAA4CnC,CAA5C,EAA+CoC,WAA/C,CAA2DnC,MAA7E,EAAqFoC,CAAC,EAAtF,EAA0F;AACzFX,UAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BR,CAA5B,EAA+BE,IAA/B,CAAoC,KAAKxB,KAAL,CAAWC,UAAX,CAAsBmD,WAAtB,EAAmCK,QAAnC,CAA4CnC,CAA5C,EAA+CoC,WAA/C,CAA2DC,CAA3D,CAApC;AACD;AAEF;AAGF;;AAEH,QAAIC,OAAO,GAAG,KAAK5D,KAAL,CAAWC,UAAX,CAAsBmD,WAAtB,CAAd,CA5DoB,CA6DpB;;AACA,QAAIS,WAAW,GAAG,KAAK7D,KAAL,CAAWI,gBAAX,CAA4Bc,IAA9C,CA9DoB,CA+DpB;AACA;;AAEA,QAAG0C,OAAO,CAACtB,MAAR,IAAkB,cAArB,EAAoC;AAClC,WAAI,IAAIwB,EAAE,GAAG,CAAb,EAAgBA,EAAE,GAACF,OAAO,CAACG,UAAR,CAAmBxC,MAAtC,EAA8CuC,EAAE,EAAhD,EAAmD;AACjDE,QAAAA,KAAK,CAAC,gBAAgBJ,OAAO,CAACG,UAAR,CAAmBD,EAAnB,CAAjB,CAAL;AACD;AAEF;;AAID,QAAGF,OAAO,CAACG,UAAR,CAAmBxC,MAAnB,KAA8B,CAAjC,EAAoC;AAClCyC,MAAAA,KAAK,CAAC,mBAAD,CAAL;AACD,KAFD,MAEM,IAAGJ,OAAO,CAACG,UAAR,CAAmBxC,MAAnB,KAA8B,CAAjC,EAAmC;AACvC,WAAI,IAAID,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACuC,WAAW,CAACtC,MAA3B,EAAmCD,CAAC,EAApC,EAAuC;AACrC;AACA;AACA,YAAGsC,OAAO,CAACG,UAAR,IAAsBF,WAAW,CAACvC,CAAD,CAApC,EAAwC;AACtC0C,UAAAA,KAAK,CAAC,mBAAD,CAAL;AACD;AACF;AACF,KARK,MAQA;AACJ,UAAIC,GAAG,GAAGL,OAAO,CAACG,UAAlB;AACE,UAAIG,QAAQ,GAAG,EAAf;;AAEA,WAAI,IAAI5C,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAC2C,GAAG,CAAC1C,MAArB,EAA6BD,CAAC,EAA9B,EAAiC;AAE/B,aAAI,IAAIe,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACwB,WAAW,CAACtC,MAA3B,EAAmCc,CAAC,EAApC,EAAuC;AACrC,cAAG4B,GAAG,CAAC3C,CAAD,CAAH,IAAUuC,WAAW,CAACxB,CAAD,CAAxB,EAA4B;AACtB;AACL,WAFD,MAEK;AACH6B,YAAAA,QAAQ,CAAC1C,IAAT,CAAcyC,GAAG,CAAC3C,CAAD,CAAjB;AAGD;AACF;AACJ;;AACD6C,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BH,GAA3B;;AACA,UAAGC,QAAQ,CAAC3C,MAAT,KAAoB,CAAvB,EAAyB;AACvB,aAAI,IAAI8C,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACJ,GAAG,CAAC1C,MAArB,EAA6B8C,CAAC,EAA9B,EAAiC;AAC/BL,UAAAA,KAAK,CAAC,gBAAgBC,GAAG,CAACI,CAAD,CAApB,CAAL;AACD;AACF,OAJD,MAIK;AACH,aAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,QAAQ,CAAC3C,MAAvB,EAA8B+C,CAAC,EAA/B,EAAkC;AAChCN,UAAAA,KAAK,CAAC,gBAAgBE,QAAQ,CAACI,CAAD,CAAzB,CAAL,CADgC,CAEhC;;AACA;AACD;AACF;AAEF;;AAEC,SAAK3D,QAAL,CAAc;AAACJ,MAAAA,WAAW,EAAEyC;AAAd,KAAd;AAED;;AAGDuB,EAAAA,gBAAgB,CAACrD,IAAD,EAAO;AACrB,QAAI8B,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKnD,KAAL,CAAWO,WAA1B,CAAX,CAArB;;AAEA,QAAG,gBAAgBW,IAAnB,EAAyB;AACvB8B,MAAAA,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,EAA0CiB,MAA1C,CAAiDxB,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,EAA0C9B,OAA1C,CAAkDP,IAAI,CAACsC,UAAvD,CAAjD,EAAqH,CAArH;;AACA,UAAGR,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,EAA0ChC,MAA1C,KAAqD,CAAxD,EAA2D;AACzD,eAAOyB,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,CAAP;AACD;;AACD,UAAGkB,MAAM,CAACC,IAAP,CAAY1B,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAA1B,EAAyCP,MAAzC,KAAoD,CAAvD,EAA0D;AACxD,eAAOyB,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAArB;AACD;AACF,KARD,MASK,IAAG,aAAaZ,IAAhB,EAAsB;AACzB,aAAO8B,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAAd,CAA4BZ,IAAI,CAACqC,OAAjC,CAAP;;AACA,UAAGkB,MAAM,CAACC,IAAP,CAAY1B,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAA1B,EAAyCP,MAAzC,KAAoD,CAAvD,EAA0D;AACxD,eAAOyB,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAArB;AACD;AACF,KALI,MAMA;AACH,aAAOkB,cAAc,CAAC9B,IAAI,CAACY,MAAN,CAArB;AACD;;AACD,SAAKnB,QAAL,CAAc;AAACJ,MAAAA,WAAW,EAAEyC;AAAd,KAAd;AACD;;AAED2B,EAAAA,WAAW,GAAG;AACZ,QAAIC,QAAQ,GAAG,EAAf;;AAEA,SAAI,MAAMC,SAAV,IAAuBJ,MAAM,CAACC,IAAP,CAAY,KAAK1E,KAAL,CAAWO,WAAvB,CAAvB,EAA4D;AAC1D,UAAIuB,MAAM,GAAG,KAAK9B,KAAL,CAAWC,UAAX,CAAsB6E,IAAtB,CAA4BxB,CAAD,IAAO;AAAC,eAAOA,CAAC,CAAChB,MAAF,KAAauC,SAApB;AAA8B,OAAjE,CAAb;AAEAD,MAAAA,QAAQ,CAACpD,IAAT,CAAcM,MAAd;AACD;;AACD,WAAO8C,QAAP;AACD;;AAEDG,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,cAAc,GAAG,EAArB;;AACA,SAAK,MAAMtD,OAAX,IAAsB,KAAK1B,KAAL,CAAWM,QAAjC,EAA2C;AACzC0E,MAAAA,cAAc,CAACxD,IAAf,CAAoB;AAAQ,QAAA,GAAG,EAAEE,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuBA,OAAvB,CAApB;AACD;;AACD,WAAOsD,cAAP;AACD;;AAEDC,EAAAA,mBAAmB,GAAG;AACpB,QAAIC,cAAc,GAAG,EAArB,CADoB,CAEpB;;AACA,QAAI5E,QAAQ,GAAG,KAAKyE,iBAAL,EAAf;;AACA,SAAK,IAAIzD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,QAAQ,CAACiB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC4D,MAAAA,cAAc,CAAC1D,IAAf,CAAoBlB,QAAQ,CAACgB,CAAD,CAAR,CAAYZ,GAAhC;AACD,KANmB,CAOpB;;;AACA,SAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,KAAL,CAAWC,UAAX,CAAsBsB,MAA1C,EAAkDD,CAAC,EAAnD,EAAuD;AACrD,UAAIQ,MAAM,GAAG,KAAK9B,KAAL,CAAWC,UAAX,CAAsBqB,CAAtB,CAAb;;AACA,WAAK,IAAIe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,MAAM,CAACqD,QAAP,CAAgB5D,MAApC,EAA4Cc,CAAC,EAA7C,EAAiD;AAC/C6C,QAAAA,cAAc,CAAC1D,IAAf,CAAoBM,MAAM,CAACqD,QAAP,CAAgB9C,CAAhB,CAApB;AACD;AACF;;AACD6C,IAAAA,cAAc,GAAG,CAAC,GAAG,IAAItC,GAAJ,CAAQsC,cAAR,CAAJ,CAAjB;AACA,WAAOA,cAAP;AACD;;AAMDE,EAAAA,MAAM,GAAG;AAEP;AACA;AACA,WACE,0CACE;AACE,MAAA,GAAG,EAAC,YADN;AAEE,MAAA,IAAI,EAAC,uEAFP;AAGE,MAAA,SAAS,EAAC,yEAHZ;AAIE,MAAA,WAAW,EAAC,WAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAQE,oBAAC,IAAD;AAAM,MAAA,gBAAgB,EAAC,QAAvB;AAAgC,MAAA,KAAK,EAAE;AAACC,QAAAA,QAAQ,EAAE,OAAX;AAAoBC,QAAAA,MAAM,EAAE,CAA5B;AAA+BC,QAAAA,KAAK,EAAE,MAAtC;AAA8CC,QAAAA,eAAe,EAAE;AAA/D,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,GAAD;AAAK,MAAA,QAAQ,EAAC,QAAd;AAAuB,MAAA,KAAK,EAAC,QAA7B;AAAsC,MAAA,KAAK,EAAE;AAACC,QAAAA,UAAU,EAAE;AAAb,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,oBAAC,OAAD;AACA,MAAA,UAAU,EAAG7D,OAAD,IAAa,KAAKD,UAAL,CAAgBC,OAAhB,CADzB;AAEA,MAAA,OAAO,EAAE,KAAK5B,KAAL,CAAWC,UAFpB;AAGA,MAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWM,QAHrB;AAIA,MAAA,cAAc,EAAE,KAAK2E,mBAAL,EAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAQE;AAAK,MAAA,KAAK,EAAE;AAACS,QAAAA,UAAU,EAAE;AAAb,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AACA,MAAA,IAAI,EAAE,KAAK1F,KAAL,CAAWE,eADjB;AAEA,MAAA,aAAa,EAAGgB,IAAD,IAAU,KAAK6B,aAAL,CAAmB7B,IAAnB,CAFzB;AAGA,MAAA,gBAAgB,EAAGA,IAAD,IAAU,KAAKqD,gBAAL,CAAsBrD,IAAtB,CAH5B;AAIA,MAAA,WAAW,EAAE,KAAKlB,KAAL,CAAWO,WAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CARF,CAFF,EAkBE,oBAAC,GAAD;AAAK,MAAA,QAAQ,EAAC,MAAd;AAAqB,MAAA,KAAK,EAAC,MAA3B;AAAkC,MAAA,KAAK,EAAE;AAACkF,QAAAA,UAAU,EAAE;AAAb,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,UAAU,EAAE;AAAb,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAE,KAAKf,WAAL,EAAlB;AACA,MAAA,aAAa,EAAGzD,IAAD,IAAU,KAAK6B,aAAL,CAAmB7B,IAAnB,CADzB;AAEA,MAAA,gBAAgB,EAAGA,IAAD,IAAU,KAAKqD,gBAAL,CAAsBrD,IAAtB,CAF5B;AAGA,MAAA,WAAW,EAAE,KAAKlB,KAAL,CAAWO,WAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAlBF,EA0BE,oBAAC,GAAD;AAAK,MAAA,QAAQ,EAAC,WAAd;AAA0B,MAAA,KAAK,EAAC,mBAAhC;AAAoD,MAAA,KAAK,EAAE;AAACkF,QAAAA,UAAU,EAAE;AAAb,OAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,UAAD;AACE,MAAA,IAAI,EAAE,KAAKzF,KAAL,CAAWI,gBADnB;AAEE,MAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWC,UAFtB;AAGE,MAAA,aAAa,EAAE,KAAK4B,aAAL,CAAmBpB,IAAnB,CAAwB,IAAxB,CAHjB;AAIE,MAAA,IAAI,EAAE,WAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADA,CA1BF,EAoCE,oBAAC,GAAD;AAAK,MAAA,QAAQ,EAAC,WAAd;AAA0B,MAAA,KAAK,EAAC,qBAAhC;AAAsD,MAAA,KAAK,EAAE;AAACgF,QAAAA,UAAU,EAAE;AAAb,OAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,UAAD;AACM,MAAA,UAAU,EAAE,KAAKzF,KAAL,CAAWC,UAD7B;AAEM,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWG,kBAFvB;AAGM,MAAA,IAAI,EAAE,WAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADA,CApCF,CARF,CADF;AAyDD;;AAlX+B;;AAqXlC,eAAeP,GAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: [],\n      filteredCourses: [],\n      recommendedCourses: [],\n      completedCourses: {},\n      ratings: [],\n      subjects: [],\n      cartCourses: []\n    };\n    this.updateActiveKey = this.updateActiveKey.bind(this)\n  }\n\n  updateActiveKey(key) {\n    this.setState({ activeKey: key })\n  }\n  // componentDidMount() {\n  //  this.loadInitialState()\n  // }\n\n  // async loadInitialState(){\n  //   let courseURL = \"http://mysqlcs639.cs.wisc.edu:53706/api/react/classes\";\n  //   let courseData = await (await fetch(courseURL)).json()\n\n\n  //   this.setState({allCourses: courseData, filteredCourses: courseData, subjects: this.getSubjects(courseData)});\n    \n  // }\n\n  componentDidMount() {\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/classes').then(\n      res => res.json()\n    ).then(data => this.setState({ allCourses: data, filteredCourses: data, cartCourses: [], subjects: this.getSubjects(data) }));\n    fetch('http://mysqlcs639.cs.wisc.edu:53706/api/react/students/5022025924/classes/completed').then(\n      res => res.json()\n    ).then(completedData => { this.setState({ completedCourses: completedData }) });\n  }\n\n  setRatings() {\n    let ratings = [];\n    for (let i = 0; i < this.state.completedCourses.data.length; i++) {\n      ratings.push(0);\n    }\n    this.setState({ ratings: ratings });\n  }\n\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for(let i = 0; i < data.length; i++) {\n      if(subjects.indexOf(data[i].subject) === -1)\n        subjects.push(data[i].subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({filteredCourses: courses})\n  }\n  updateRatings(course, rating) {\n    if (this.state.ratings.length === 0) {\n      this.setRatings();\n    }\n    let update = this.state.ratings;\n    for (let i = 0; i < update.length; i++) {\n      if (this.state.completedCourses.data[i] === course) {\n        update[i] = rating;\n        this.setState({ ratings: update });\n        this.updateRecommendedCourses();\n        return;\n      }\n    }\n    this.updateRecommendedCourses();\n  }\n  updateRecommendedCourses() {\n    let recommend = [];\n    for (let score = 5; score > 0; score--) {\n      for (let i = 0; i < this.state.allCourses.length; i++) {\n        let course = this.state.allCourses[i];\n        var alreadyTook = false;\n        for (let j = 0; j < this.state.completedCourses.data.length; j++) {\n          if (course.number === this.state.completedCourses.data[j]) {\n            alreadyTook = true;\n          }\n        }\n        if (alreadyTook) {\n          continue;\n        }\n\n        let completedSubjects = this.getCompletedSubjects(this.state.completedCourses.data);\n        for (let j = 0; j < completedSubjects.length; j++) {\n          if (course.subject === completedSubjects[j] && this.state.ratings[j] === score) {\n            recommend.push(course);\n          }\n        }\n      }\n    }\n    let result = Array.from(new Set(recommend));\n    this.setState({ recommendedCourses: result });\n  }\n\n  getCompletedSubjects(completedCourses) {\n    let completed_Subjects = [];\n    // console.log(Object.values(completedCourses))\n    for (let i in (completedCourses)) {\n      let completedCourse = completedCourses[i];\n      for (let j in this.state.allCourses) {\n        let course = this.state.allCourses[j]\n        if (completedCourse === course.number) {\n          completed_Subjects.push(course.subject);\n        }\n      }\n    }\n    return completed_Subjects;\n  }\n\n\n\n  addCartCourse(data) {\n    let newCartCourses = JSON.parse(JSON.stringify(this.state.cartCourses))// I think this is a hack to deepcopy\n    let courseIndex = this.state.allCourses.findIndex((x) => {return x.number===data.course})\n    if (courseIndex === -1)\n    {\n      return \n    }\n    // console.log(\"data: \", data)\n    // console.log(\"data 111222: \", data.course);\n\n    if('subsection' in data) {\n      if(data.course in this.state.cartCourses) {\n        if(data.section in this.state.cartCourses[data.course]) {\n          newCartCourses[data.course][data.section].push(data.subsection);\n        }\n        else {\n          newCartCourses[data.course][data.section] = [];\n          newCartCourses[data.course][data.section].push(data.subsection);\n        }\n      }\n      else {\n        newCartCourses[data.course] = {};\n        newCartCourses[data.course][data.section] = [];\n        newCartCourses[data.course][data.section].push(data.subsection);\n      }\n    }\n    else if('section' in data) {\n      if(data.course in this.state.cartCourses) {\n        newCartCourses[data.course][data.section] = [];\n\n        for(let i = 0; i < this.state.allCourses[courseIndex].sections[data.section].subsections.length; i++) {\n          newCartCourses[data.course][data.section].push(this.state.allCourses[courseIndex].sections[data.section].subsections[i]);\n        }\n      \n      \n      }\n      else {\n        newCartCourses[data.course] = {};\n        newCartCourses[data.course][data.section] = [];\n        for(let i = 0; i < this.state.allCourses[courseIndex].sections[data.section].subsections.length; i++) { \n          newCartCourses[data.course][data.section].push(this.state.allCourses[courseIndex].sections[data.section].subsections[i]);\n        }\n      }\n    }\n    else {\n      newCartCourses[data.course] = {};\n\n\n      for (let i = 0; i < this.state.allCourses[courseIndex].sections.length; i++){\n        newCartCourses[data.course][i] = [];\n\n         for(let c= 0; c < this.state.allCourses[courseIndex].sections[i].subsections.length; c ++){\n          newCartCourses[data.course][i].push(this.state.allCourses[courseIndex].sections[i].subsections[c]);\n        }\n\n      }\n\n\n    }\n    \n  let course1 = this.state.allCourses[courseIndex];\n  // console.log(\"requisite: \", course1.requisites);\n  let comListData = this.state.completedCourses.data;\n  // console.log(\"completed: \", comListData);\n  // console.log(\"cs537\", course1);\n\n  if(course1.number == \"COMP SCI 537\"){\n    for(let xy = 0; xy<course1.requisites.length; xy++){\n      alert(\"Requisite: \" + course1.requisites[xy]);\n    }\n    \n  }\n\n\n\n  if(course1.requisites.length === 0) {\n    alert(\"Add successfully!\");\n  }else if(course1.requisites.length === 1){\n    for(let i=0; i<comListData.length; i++){\n      // console.log(\"1111\");\n      // var compare = course1.requisites.localCompare(comListData[i]);\n      if(course1.requisites == comListData[i]){\n        alert(\"Add successfully!\");\n      }\n    }   \n  }else {\n    let req = course1.requisites;\n      let requList = [];\n                 \n      for(let i = 0; i<req.length; i++){\n\n        for(let j=0; j<comListData.length; j++){\n          if(req[i] == comListData[j]){\n                continue;\n          }else{\n            requList.push(req[i]);\n            \n            \n          }\n        }        \n    }\n    console.log(\"eliminate: \", req);\n    if(requList.length === 0){\n      for(let u = 0; u<req.length; u++){\n        alert(\"Requisite: \" + req[u]);\n      }\n    }else{\n      for(let k=0;k<requList.length;k++){\n        alert(\"Requisite: \" + requList[k]);\n        // console.log(requList[k]);\n        break;\n      }     \n    }\n    \n  }\n\n    this.setState({cartCourses: newCartCourses});\n       \n  }\n\n\n  removeCartCourse(data) {\n    let newCartCourses = JSON.parse(JSON.stringify(this.state.cartCourses))\n\n    if('subsection' in data) {\n      newCartCourses[data.course][data.section].splice(newCartCourses[data.course][data.section].indexOf(data.subsection), 1);\n      if(newCartCourses[data.course][data.section].length === 0) {\n        delete newCartCourses[data.course][data.section];\n      }\n      if(Object.keys(newCartCourses[data.course]).length === 0) {\n        delete newCartCourses[data.course];\n      }\n    }\n    else if('section' in data) {\n      delete newCartCourses[data.course][data.section];\n      if(Object.keys(newCartCourses[data.course]).length === 0) {\n        delete newCartCourses[data.course];\n      }\n    }\n    else {\n      delete newCartCourses[data.course];\n    }\n    this.setState({cartCourses: newCartCourses});\n  }\n\n  getCartData() {\n    let cartData = [];\n\n    for(const courseKey of Object.keys(this.state.cartCourses)) {\n      let course = this.state.allCourses.find((x) => {return x.number === courseKey})\n\n      cartData.push(course);\n    }\n    return cartData;\n  }\n\n  getSubjectOptions() {\n    let subjectOptions = [];\n    for (const subject of this.state.subjects) {\n      subjectOptions.push(<option key={subject}>{subject}</option>);\n    }\n    return subjectOptions;\n  }\n\n  getAllInterestAreas() {\n    let interest_areas = [];\n    //look at subjects\n    let subjects = this.getSubjectOptions();\n    for (let i = 0; i < subjects.length; i++) {\n      interest_areas.push(subjects[i].key)\n    }\n    //look at keywords\n    for (let i = 0; i < this.state.allCourses.length; i++) {\n      let course = this.state.allCourses[i];\n      for (let j = 0; j < course.keywords.length; j++) {\n        interest_areas.push(course.keywords[j]);\n      }\n    }\n    interest_areas = [...new Set(interest_areas)];\n    return interest_areas;\n  }\n\n  \n\n\n  \n  render() {\n\n    // console.log(\"props\", this.props);\n    // const course = this.state.course;\n    return (\n      <>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n          crossOrigin=\"anonymous\"\n        />\n\n        <Tabs defaultActiveKey=\"search\" style={{position: 'fixed', zIndex: 1, width: '100%', backgroundColor: 'white'}}>\n          \n          <Tab eventKey=\"search\" title=\"Search\" style={{paddingTop: '5vh'}}>\n            \n            <Sidebar \n            setCourses={(courses) => this.setCourses(courses)} \n            courses={this.state.allCourses} \n            subjects={this.state.subjects} \n            interest_areas={this.getAllInterestAreas()}\n            />\n            <div style={{marginLeft: '20vw'}}>\n              <CourseArea \n              data={this.state.filteredCourses} \n              addCartCourse={(data) => this.addCartCourse(data)} \n              removeCartCourse={(data) => this.removeCartCourse(data)} \n              cartCourses={this.state.cartCourses}/>\n            </div>\n          </Tab>\n          <Tab eventKey=\"cart\" title=\"Cart\" style={{paddingTop: '5vh'}}>\n            <div style={{marginLeft: '20vw'}}>\n              <CourseArea data={this.getCartData()} \n              addCartCourse={(data) => this.addCartCourse(data)} \n              removeCartCourse={(data) => this.removeCartCourse(data)} \n              cartCourses={this.state.cartCourses}/>\n            </div>\n          </Tab>\n          <Tab eventKey=\"completed\" title=\"Completed Courses\" style={{paddingTop: '5vh'}}>\n          <div>\n              <CourseArea\n                data={this.state.completedCourses}\n                allData={this.state.allCourses}\n                updateRatings={this.updateRatings.bind(this)}\n                mode={\"completed\"} />\n          </div>\n          </Tab>\n\n          <Tab eventKey=\"recommend\" title=\"Recommended Courses\" style={{paddingTop: '5vh'}}>\n          <div>\n          <CourseArea\n                allCourses={this.state.allCourses}\n                data={this.state.recommendedCourses}\n                mode={\"recommend\"} />\n          </div>\n          </Tab>\n\n        </Tabs>\n      </>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}